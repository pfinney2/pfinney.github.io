<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Calendar Test 02</title>

<style type="text/css" media="all">



</style>


<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script type="text/javascript">
	$(document).ready(function() {
		/*$.ajax({
			type: 'GET',
			url: 'script/boxes.json',
			dataType: 'json',
			success: jsonParser
			});*/

			var month = '<table class="monthTable" cellpadding="0" cellspacing="0" border="0" style="width: 100%; background-color: #BBBBBB; border-collapse: collapse; font-family: Verdana, sans-serif; font-size: .5em;"><tbody><tr class="weekRow">';
			var i = 1;
			var j = 1;
			var startDate = 7;
			var length = 31;
			while ( i <= 35 ) {
				while (( i >= startDate ) && ( j <= length )) {
					month +='<td id="'+ j + '" class="dateCell" style="border: 1px solid #ffffff; height: 75px; padding: 8px; background-color: #999999;" valign="top"></td>';
					if ((i % 7 == 0 ) && ( i == 35 )) {
						month +='</tr></tbody></table>';
					} else if ( i % 7 == 0 ) {
						month += '</tr><tr class="weekRow">';
					};
					j++;
					i++;
				};
				month +='<td style="border: 1px solid #ffffff; height: 40px; padding: 8px;" valign="top"></td>';
				i++;
			};
			
			
			$('#calendarBox').append(month);
			
			//if ((startDate + length) > 35) {
			//	$('#calendarBox .weekRow:last').children().replaceWith(
			//}

			enterDates(month,length);
			
	});
	
	function enterDates(htmlMonth,days) {
		var d = 1;
		$('.dateCell').each(function() {
			while ((d <= days) && ($(this).attr('id') == d)) {
				$(this).append('<p style="margin: 0; padding: 0;">' + d + '</p>');
				d++;
			}
		});
	}
	
/*	function jsonParser(json) {
		$.getJSON('script/boxes.json',function(data) {
			$.each(data.boxes.box, function(k,v){
				var bgColor = v.background_color;
				var text = v.text;
				var number = v.number;
				var html = '<div class="startingBox" id="' + number + '" style="width: 400px; height: 400px;  background-color:' + bgColor + ';"><p>' + text + '</p></div>';
				if (number == 1) {
					$('#window1 #insideDiv').append(html);
					$('#boxNumber').html(number);
				}
			});
		});
	}*/
	

</script>
</head>

<body>

<div id="calendarBox" style="width: 1000px; height: 800px; border: 3px solid #0000FF;"></div>

</body>
</html>
